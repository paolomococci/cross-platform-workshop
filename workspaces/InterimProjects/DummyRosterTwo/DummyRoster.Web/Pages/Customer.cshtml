@page
@using DummyRoster.Common.EntityModel.Models
@model DummyRoster.Web.Pages.CustomerModel
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

<div class="container p-3">

  <div class="card mt-3">

    <div class="card-header">
      <h2 class="display-5">@ViewData["Title"]</h2>
    </div>

    <div class="card-body">
      <div class="accordion accordion-flush" id="accordionFlushForCustomers">
        @if (Model.customers is not null)
        {
          @foreach (Customer item in Model.customers)
          {
            <div class="accordion-item">
              <h2 class="accordion-header" id="flush-headingOne">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                  data-bs-target="#flush-collapse-@(item.Id)" aria-expanded="false"
                  aria-controls="flush-collapse-@(item.Id)">
                  @item.Name
                </button>
              </h2>
              <div id="flush-collapse-@(item.Id)" class="accordion-collapse collapse" aria-labelledby="flush-headingOne"
                data-bs-parent="#accordionFlushForCustomers">
                <div class="accordion-body">
                  <table class="table">
                    <caption>Details about the Customer</caption>
                    <thead>
                      <tr>
                        <th scope="col">Name</th>
                        <th scope="col">Country</th>
                        <th scope="col">Email</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>@item.Name</td>
                        <td>@item.Country</td>
                        <td>@item.Email</td>
                      </tr>
                    </tbody>
                    <tfoot>
                      <tr>
                        <th scope="row">Customer ID: </th>
                        <td>@item.Id</td>
                      </tr>
                    </tfoot>
                  </table>
                </div>
              </div>
            </div>
          }
        }
      </div>
    </div>

  </div>

  <div class="card mt-3">

    <div class="card-header">
      <h2 class="display-5">new customer</h2>
    </div>

    <div class="card-body">
      <form method="post">
        <div class="row mb-3 align-items-center">
          <div class="">
            <label for="customerName" class="col-form-label">Name</label>
          </div>
          <div class="">
            <input asp-for="customer.Name" type="text" id="customerName" class="form-control"
              aria-describedby="customerNameHelpInline" required minlength="1" maxlength="32" size="32">
          </div>
          <div class="">
            <span id="customerNameHelpInline" class="form-text">
              Alphabetical characters only, typing in a maximum of thirty-two.
            </span>
          </div>
        </div>
        <div class="row mb-3 align-items-center">
          <div class="">
            <label for="customerCountry" class="col-form-label">Country</label>
          </div>
          <div class="">
            <input asp-for="customer.Country" type="text" id="customerCountry" class="form-control"
              aria-describedby="customerCountryHelpInline" minlength="3" maxlength="16" size="16">
          </div>
          <div class="">
            <span id="customerCountryHelpInline" class="form-text">
              Alphabetical characters only, in addition to the dash, typing in a minimum of three and a maximum of
              sixteen.
            </span>
          </div>
        </div>
        <div class="row mb-3 align-items-center">
          <div class="">
            <label for="customerEmail" class="col-form-label">Email</label>
          </div>
          <div class="">
            <input asp-for="customer.Email" type="email" id="customerEmail" class="form-control"
              aria-describedby="customerEmailHelpInline" maxlength="48" size="48">
          </div>
          <div class="">
            <span id="customerEmailHelpInline" class="form-text">
              A maximum of forty-seven alphanumeric characters plus the at character are allowed.
            </span>
          </div>
        </div>
        <div class="align-items-center">
          <button type="submit" class="btn btn-primary">Save</button>
        </div>
      </form>
    </div>

  </div>

</div>
